<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <script type="module">
        // import * as Halftone from ../index.js';
        import * as Halftone from './halftone.js';

        const dropdown = document.getElementById('shaperenderers');
        dropdown.innerHTML = Halftone.RenderShapeTypes.map( (type) => `<option>${type}</option>`).join();
    </script>
    <script>
        function changeShape(event) {
            document.querySelector('halftone-bitmap-image').setAttribute('shapetype', event.target.value);

            if (event.target.value === 'crosses') {
                document.getElementById('crosssize-container').style.display = 'block';
            } else {
                document.getElementById('crosssize-container').style.display = 'none';
            }
        }

        function changeDistance(event) {
            document.querySelector('halftone-bitmap-image').setAttribute('distance', event.target.value);
        }

        function changeCrossSize(event) {
            document.querySelector('halftone-bitmap-image').setAttribute('crossbarlength', event.target.value);
        }

        function changeFillColor(event) {
            document.querySelector('halftone-bitmap-image').setAttribute('shapecolor', event.target.value);
        }

        function changeBackgroundColor(event) {
            document.querySelector('halftone-bitmap-image').setAttribute('backgroundcolor', event.target.value);
        }
    </script>
    <title>Halftone Bitmap Image</title>
</head>
<body>
    <label for="shaperenderers">Choose a shape renderer:</label>
    <select name="shaperenderers" id="shaperenderers" onchange="changeShape(event)"></select>

    <br />
    <br />

    <label for="distancebetween">Choose a distance between shapes:</label>
    <input type="range" name="distancebetween" id="distancebetween" min="1" max="50" value="7" oninput="changeDistance(event)"></input>


    <br />
    <br />

    <div id="crosssize-container" style="display: none">
        <label for="crosssize">Choose a cross size:</label>
        <input type="range" name="crosssize" id="crosssize" min="1" max="50" value="7" oninput="changeCrossSize(event)"></input>

        <br />
        <br />

    </div>

    <label for="fillcolor">Choose a shape color</label>
    <input type="color" name="fillcolor" id="fillcolor" oninput="changeFillColor(event)"></input>

    <label for="backgroundcolor">Choose a background color</label>
    <input type="color" name="backgroundcolor" id="backgroundcolor" value="#ffffff" oninput="changeBackgroundColor(event)"></input>

    <br />
    <br />

    <halftone-bitmap-image src="../sampleimages/astronaut.jpg" />
</body>
</html>
